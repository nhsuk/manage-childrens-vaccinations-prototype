{% extends "_layouts/wizard.html" %}

{% set title = "Check and confirm details" %}
{% set buttonText = "Confirm" %}
{% set baseHref = "/sessions/new/" + sessionId %}

{% block form %}
  {{ heading({ title: title }) }}

  {{ summaryList({
    rows: decorateRows([
      {
        key: "Type of session",
        value: session.type,
        href: baseHref
      },
      {
        key: "School",
        value: session.location,
        href: baseHref + "/location"
      },
      {
        key: "Vaccine",
        value: session.type,
        href: baseHref + "/type"
      },
      {
        key: "Date",
        value: session.date | isoDateFromDateInput | dateWithDayOfWeek,
        href: baseHref + "/date"
      },
      {
        key: "Time",
        value: session.time,
        href: baseHref + "/date"
      },
      {
        key: "Cohort",
        value: cohort.length + " children",
        href: baseHref + "/cohort"
      },
      {
        key: "Consent requests",
        value: "Send " + (session.requestDays if session.hasRequestDays == "custom" else "14") + " days before the session",
        href: baseHref + "/schedule"
      },
      {
        key: "Reminders",
        value: "Send " + (session.reminderDays if session.hasReminderDays == "custom" else "7") + " days after the first consent request",
        href: baseHref + "/schedule"
      },
      {
        key: "Deadline for responses",
        value: (session.deadlineDate | isoDateFromDateInput | dateWithDayOfWeek) if session.hasDeadlineDate == "custom" else session.hasDeadlineDate,
        href: baseHref + "/schedule"
      }
    ])
  }) }}
{% endblock %}
