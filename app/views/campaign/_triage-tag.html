{% set triageStatus = ['To do', 'Need to follow up', 'Ready for session', 'Do not vaccinate'] | random %}

{% if triageStatus == 'Ready for session' %}
  {% set icon = 'tick' %}
  {% set color = 'green' %}
{% elif triageStatus == 'Do not vaccinate' %}
  {% set icon = 'cross' %}
  {% set color = 'red' %}
{% elif triageStatus == 'Need to follow up' %}
  {% set color = 'blue' %}
{% elif triageStatus == 'To do' %}
  {% set color = 'white' %}
{% endif %}

{% if child.consent[campaign.type] == 'Unknown' or child.consent[campaign.type] == 'Refused' %}
  {% set color = 'grey' %}
  {% set icon = false %}
  {% set triageStatus = 'Cannot triage yet' %}
{% endif %}

<div
  class="app-outcome-tag nhsuk-tag nhsuk-tag--{{ color }}"
  style="width: 100%"
>
  {% if icon %}
    {{ appIcon({ type: icon }) }}
  {% endif %}
  <span class="nhsuk-u-font-size-16">
    {{ triageStatus }}
  </span>
</div>
